class Component{constructor(){var _0x1b8fb5={'VxwmS':function(_0x2826cf,_0x697606){return _0x2826cf+_0x697606;}};var _0x2ca344='0|4|3|2|5|1'['split']('|'),_0xbb1bff=0x0;while(!![]){switch(_0x2ca344[_0xbb1bff++]){case'0':this['datasource']=[];continue;case'1':this['_parsedTemplate']=null;continue;case'2':this['_rendered']=![];continue;case'3':this['_id']=_0x1b8fb5['VxwmS'](_0x1b8fb5['VxwmS'](this['constructor']['name'],'_'),lastComponentIndex++);continue;case'4':this['_children']={};continue;case'5':this['_initialized']=![];continue;}break;}}['addChild'](_0x576b70,_0x30dfb0){this['_children'][_0x576b70]=_0x30dfb0;}['removeChild'](_0x2fb09a){delete this['_children'][_0x2fb09a];}['getChild'](_0x7be86c){return this['_children'][_0x7be86c];}['self'](){var _0x223f70={'mIaFm':function(_0x9fcc1,_0x440210){return _0x9fcc1+_0x440210;},'MQlbW':'getComponentById(`'};return _0x223f70['mIaFm'](_0x223f70['MQlbW']+this['_id'],'`)');}['renderEvent'](_0x5ab5da,_0x475e96=null){var _0x5b4363={'ayIiw':function(_0x92567c,_0x16226f){return _0x92567c+_0x16226f;},'WgmMa':function(_0xd9a8e,_0x1b022d){return _0xd9a8e+_0x1b022d;},'zCJgO':function(_0x287de2,_0x37a1d9){return _0x287de2+_0x37a1d9;},'MGAEY':'.handleEvent(\x27','hWYus':'\x27,\x20\x27'};return _0x5b4363['ayIiw'](_0x5b4363['WgmMa'](_0x5b4363['zCJgO'](this['self']()+_0x5b4363['MGAEY'],_0x5ab5da),_0x5b4363['hWYus']),_0x475e96)+'\x27)';}async['handleEvent'](_0x44b58f,_0x31f7ce){var _0xa28fb8={'JYguF':'form'};let _0x2babf0=new FormData(document['querySelector'](_0xa28fb8['JYguF']));let _0x53afd4=Object['getOwnPropertyNames'](root['_children']);for(let _0x396427 of _0x53afd4){await root['_children'][_0x396427]['parseInput'](_0x2babf0);}await this[_0x44b58f](_0x31f7ce);}async['parseInput'](_0x2d9e23){let _0x57ef1d=Object['getOwnPropertyNames'](this['_children']);for(let _0x2b6d09 of _0x57ef1d){await this['_children'][_0x2b6d09]['parseInput'](_0x2d9e23);}}async['init'](){this['_initialized']=!![];}async['databind'](){let _0x14a1c8=Object['getOwnPropertyNames'](this['_children']);for(let _0x3b2bf1 of _0x14a1c8){await this['_children'][_0x3b2bf1]['databind']();}}async['refresh'](){var _0x3217c6={'SMqcH':function(_0xaf775a,_0x359867){return _0xaf775a(_0x359867);},'oqLZp':function(_0x416b41,_0x22d343){return _0x416b41+_0x22d343;},'rjAre':'Cannot\x20refresh\x20'};let _0xd02c03=document['getElementById'](this['_id']);if(_0xd02c03){await this['parseTemplate']();let _0x2c4715=_0x3217c6['SMqcH'](qs,'#htmlPreloader');let _0x3b5626=document['getElementById'](this['_id']);let _0x372228=document['createElement']('div');_0x372228['id']=this['_id']+'_preloader';_0x372228['innerHTML']=this['_parsedTemplate'];_0x2c4715['appendChild'](_0x372228);await _0x3217c6['SMqcH'](sleep,0x32);_0x3b5626['outerHTML']=_0x372228['innerHTML'];_0x2c4715['removeChild'](_0x372228);await sleep(0x32);await this['onRefresh']();}else{throw _0x3217c6['oqLZp'](_0x3217c6['rjAre'],this['constructor']['name'])+'\x20because\x20it\x20is\x20not\x20rendered!';}}async['update'](){await this['databind']();await this['refresh']();}async['parseTemplate'](){for(let _0x42d4a5 of Object['getOwnPropertyNames'](this['_children'])){await this['_children'][_0x42d4a5]['parseTemplate']();}let _0x4167da=ejs['render'](templates[this['constructor']['name']],{'c':this});this['_parsedTemplate']=_0x4167da;}['render'](){var _0x56036a={'QusQv':function(_0x41398,_0x21fa3a){return _0x41398==_0x21fa3a;},'mgSPM':function(_0x4ad496,_0x3d547d){return _0x4ad496(_0x3d547d);},'nmInb':function(_0x320fbe,_0x1717cc){return _0x320fbe+_0x1717cc;},'FVKid':function(_0x4228da,_0x525c59){return _0x4228da==_0x525c59;},'mHIdq':function(_0x1b09db,_0x4ba46d){return _0x1b09db+_0x4ba46d;},'WsRnr':'Cannot\x20render\x20','aEJHa':'\x20because\x20you\x20have\x20not\x20called\x20init().\x20Call\x20init()\x20first.','YRLMN':function(_0x121b23){return _0x121b23();}};if(_0x56036a['FVKid'](this['_initialized'],![])){throw _0x56036a['nmInb'](_0x56036a['mHIdq'](_0x56036a['WsRnr'],this['constructor']['name']),_0x56036a['aEJHa']);}let _0x46e623=this['_parsedTemplate'];let _0xd29b29=async()=>{let _0x572cc0=![];while(_0x56036a['QusQv'](_0x572cc0,![])){await _0x56036a['mgSPM'](sleep,0x64);if(_0x56036a['mgSPM'](qs,_0x56036a['nmInb']('#',this['_id']))){if(_0x56036a['QusQv'](this['_rendered'],![])){await this['onFirstRender']();this['_rendered']=!![];}await this['onRefresh']();_0x572cc0=!![];}}};_0x56036a['YRLMN'](_0xd29b29);return _0x46e623;}async['onFirstRender'](){}async['onRefresh'](){}['createId'](_0x32ea08){var _0x205250={'UGnZi':function(_0x4bd7bc,_0x29b6f3){return _0x4bd7bc+_0x29b6f3;}};return _0x205250['UGnZi'](this['_id'],'_')+_0x32ea08;}async['loadFile'](_0x2f7c5d){var _0x1e5d53={'rsNkC':function(_0x3bd8e8,_0x479a32){return _0x3bd8e8==_0x479a32;},'mtwJe':'get','Bdfvl':'readystatechange'};let _0x1a4056=new Promise((_0x2930e0,_0x2a839b)=>{let _0x34808c=new XMLHttpRequest();_0x34808c['open'](_0x1e5d53['mtwJe'],_0x2f7c5d);_0x34808c['addEventListener'](_0x1e5d53['Bdfvl'],()=>{if(_0x1e5d53['rsNkC'](_0x34808c['readyState'],0x4)){_0x2930e0(_0x34808c['responseText']);}});_0x34808c['send']();});let _0x507b2b=await _0x1a4056;return _0x507b2b;}}class TextBox extends Component{async['init'](){await super['init']();this['value']='';this['placeholder']='';}async['parseInput'](_0x8f8781){this['value']=_0x8f8781['get'](this['_id']);await super['parseInput']();}}class ListBox extends Component{async['init'](){await super['init']();this['value']=null;this['options']=[];}['addOption'](_0xa3df55,_0x11b3d9){this['options']['push']({'name':_0xa3df55,'value':_0x11b3d9});}async['parseInput'](_0x48fde6){this['value']=_0x48fde6['get'](this['_id']);await super['parseInput']();}}class HelloWorld extends Component{async['init'](){var _0x2fe26c={'JfGGw':'Add\x20some\x20text\x20here...','mhJZa':'nameControl','oBznw':'opzione\x202','vNpea':'listControl'};await super['init']();let _0x355ac3=new TextBox();await _0x355ac3['init']();_0x355ac3['placeholder']=_0x2fe26c['JfGGw'];this['addChild'](_0x2fe26c['mhJZa'],_0x355ac3);let _0x41ca63=new ListBox();await _0x41ca63['init']();_0x41ca63['addOption']('opzione\x201','1');_0x41ca63['addOption'](_0x2fe26c['oBznw'],'2');this['addChild'](_0x2fe26c['vNpea'],_0x41ca63);await this['databind']();}async['databind'](){var _0x1039aa={'sfbKe':'Mario','DchUb':'Luigi','mPEIA':'Yoshi'};this['names']=[_0x1039aa['sfbKe'],_0x1039aa['DchUb'],_0x1039aa['mPEIA']];await super['databind']();}async['addNameClickHandler'](){var _0x5732ed={'hlbCB':'nameControl','UCmrL':function(_0x3dea3d,_0x3a25fa){return _0x3dea3d!=_0x3a25fa;}};let _0x424455=this['getChild'](_0x5732ed['hlbCB'])['value'];if(_0x5732ed['UCmrL'](_0x424455,'')){this['names']['push'](_0x424455);}this['getChild'](_0x5732ed['hlbCB'])['value']='';await this['refresh']();}async['addDollyHandler'](){let _0x361220=new HelloWorld();await _0x361220['init']();this['addChild']('dollyComponent',_0x361220);await this['refresh']();}}
templates["Component"] = "<div id=\"<%= c._id %>\">\r\n    <%- c.getChild(\"main\") ? c.getChild(\"main\").render() : \"Base Component\" %>\r\n</div>";
templates["TextBox"] = "<input id=\"<%= c._id %>\" name=\"<%= c._id %>\" class=\"TextBox\" value=\"<%= c.value %>\" placeholder=\"<%= c.placeholder %>\">";
templates["ListBox"] = "<select id=\"<%= c._id %>\" name=\"<%= c._id %>\" class=\"ListBox\">\r\n    <%\r\n        for(let option of c.options){\r\n            %>\r\n            <option value=\"<%= option.value %>\" <% if(c.value == option.value){ %>selected<% } %>><%= option.name %></option>\r\n            <%\r\n        }\r\n    %>\r\n</select>\r\n";
templates["HelloWorld"] = "<div id=\"<%= c._id %>\" class=\"helloWorld\">\r\n    <h1>Hello World!</h1>\r\n    <h3>This is a test component.</h3>\r\n    <p>Please look inside my code to see what you can do with OSPF!</p>\r\n\r\n    <div>Names: </div>\r\n    <ul>\r\n        <% for(let name of c.names){ %>\r\n        <li><%= name %></li>\r\n        <% } %>\r\n    </ul>\r\n    <%- c.getChild(\"nameControl\").render() %>\r\n    <%- c.getChild(\"listControl\").render() %>\r\n    <input onclick=\"<%= c.renderEvent(\"addNameClickHandler\") %>\" type=\"button\" value=\"Add #1\">\r\n    <input onclick=\"<%= c.renderEvent(\"addDollyHandler\") %>\" type=\"button\" value=\"Add Dolly Component\">\r\n\r\n    <%\r\n        if(c.getChild(\"dollyComponent\")){\r\n            __append(c.getChild(\"dollyComponent\").render());\r\n        }\r\n    %>\r\n</div>";
